# Story 1.1: Project Foundation Setup

## Status
Approved

## Story
**As a** developer,  
**I want** a properly configured Expo React Native project with Supabase integration,  
**so that** I have a solid foundation for building the habit tracking features.

## Acceptance Criteria
1. Expo managed workflow project created with TypeScript configuration
2. Supabase client properly configured with environment variables and connection testing  
3. Basic folder structure established (screens, components, services, utils, types)
4. React Query setup for server state management and caching
5. Navigation structure configured with React Navigation v6
6. Basic error boundary and logging framework implemented
7. Development environment runs successfully on both iOS and Android simulators

## Tasks / Subtasks
- [ ] Project Initialization (AC: 1, 2)
  - [ ] Initialize Expo managed workflow project with TypeScript template
  - [ ] Configure package.json with required dependencies from tech stack
  - [ ] Setup environment variable configuration (.env.example, .env.local)
  - [ ] Install and configure Supabase client with connection testing
  - [ ] Verify project runs on iOS and Android simulators

- [ ] Project Structure Setup (AC: 3)
  - [ ] Create folder structure following unified project structure specification
  - [ ] Setup `/app/src/components/` with subdirectories (common, habit, goal, layout)
  - [ ] Setup `/app/src/screens/` with subdirectories (auth, main, onboarding)  
  - [ ] Setup `/app/src/hooks/`, `/app/src/services/`, `/app/src/stores/` directories
  - [ ] Setup `/app/src/navigation/`, `/app/src/utils/`, `/app/src/constants/` directories
  - [ ] Create `/shared/types/` directory for shared TypeScript interfaces

- [ ] State Management Configuration (AC: 4)
  - [ ] Install and configure React Query v5.0+
  - [ ] Install and configure Zustand v4.4+ for local UI state
  - [ ] Create basic query client configuration
  - [ ] Setup React Query provider in app root

- [ ] Navigation Setup (AC: 5)
  - [ ] Install React Navigation v6 with required dependencies
  - [ ] Create basic RootNavigator.tsx structure
  - [ ] Configure stack navigation with placeholder screens
  - [ ] Setup navigation types for TypeScript

- [ ] Error Handling & Logging (AC: 6)
  - [ ] Implement React error boundary component
  - [ ] Setup basic logging framework following architecture standards
  - [ ] Configure error reporting structure
  - [ ] Create error handling service layer

## Dev Notes

**Previous Story Insights**: No previous stories - this is the foundation story.

**Tech Stack Requirements** [Source: architecture/tech-stack.md]:
- TypeScript 5.3+ for type-safe development
- Expo SDK 50+ managed workflow  
- React Query 5.0+ for server state management
- Zustand 4.4+ for client-side state
- React Navigation v6 for navigation
- React Native Elements 4.0+ for UI components
- NativeWind 2.0+ for styling

**Project Structure** [Source: architecture/unified-project-structure.md]:
- Main app code in `/app/src/` directory
- Shared types in `/shared/types/` directory
- Supabase backend in `/supabase/` directory
- Environment configuration with .env.example and .env.local files
- Package structure with root package.json and app-specific package.json

**Development Setup Requirements** [Source: architecture/development-workflow.md]:
- Node.js v18+ and npm v9+ required
- Expo CLI and EAS CLI must be installed globally
- Supabase CLI for local development
- Environment variables: EXPO_PUBLIC_SUPABASE_URL, EXPO_PUBLIC_SUPABASE_ANON_KEY

**Coding Standards** [Source: architecture/coding-standards.md]:
- Components use PascalCase naming (e.g., `HabitCard.tsx`)
- Hooks use camelCase with 'use' prefix (e.g., `useAuth.ts`)
- Type interfaces use PascalCase (e.g., `WeeklyStage`)
- Functions use camelCase (e.g., `logHabit()`)
- Always define types in shared/types and import from there
- Never make direct HTTP calls - use service layer
- Access environment variables only through config objects

**File Locations** [Source: architecture/unified-project-structure.md]:
- Components: `/app/src/components/`
- Screens: `/app/src/screens/`
- Hooks: `/app/src/hooks/`
- Services: `/app/src/services/`
- Navigation: `/app/src/navigation/RootNavigator.tsx`
- Types: `/shared/types/`
- Config files: `/app/app.json`, `/app/package.json`, `/app/tsconfig.json`

### Testing
[Source: architecture/testing-strategy.md]

**Test Organization**:
- Frontend tests use Jest + React Native Testing Library
- Test files located in `__tests__/` directories next to source files
- Component tests in `app/src/components/__tests__/`
- Hook tests in `app/src/hooks/__tests__/`
- Service tests in `app/src/services/__tests__/`

**Testing Requirements**:
- Unit tests (70% of test pyramid)
- Integration tests (30% of test pyramid)  
- Test file naming: `ComponentName.test.tsx` for components, `hookName.test.ts` for hooks
- Use `@testing-library/react-native` for component testing
- Mock external dependencies and API calls

**Project Structure Notes**: All story requirements align perfectly with the defined unified project structure. No structural conflicts identified.

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2024-03-15 | 1.0 | Initial story creation | Scrum Master |

## Dev Agent Record
*This section will be populated by the development agent during implementation*

### Agent Model Used
*To be filled by dev agent*

### Debug Log References  
*To be filled by dev agent*

### Completion Notes List
*To be filled by dev agent*

### File List
*To be filled by dev agent*

## QA Results
*Results from QA Agent review will be populated here after implementation*