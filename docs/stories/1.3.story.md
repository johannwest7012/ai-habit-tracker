# Story 1.3: Navigation Framework Setup

## Status
Draft

## Story
**As a** developer,
**I want** a navigation structure configured,
**so that** I can build multiple screens and handle user flow between them.

## Acceptance Criteria
1. React Navigation v6 installed and basic stack navigator configured
2. Navigation types defined for TypeScript support
3. Basic screen structure established (placeholder screens for main flows)
4. Navigation state properly typed and accessible

## Tasks / Subtasks
- [ ] Install and configure React Navigation v6 (AC: 1)
  - [ ] Install @react-navigation/native and required dependencies
  - [ ] Install @react-navigation/native-stack for stack navigation
  - [ ] Configure navigation container in app entry point
- [ ] Define TypeScript navigation types (AC: 2)
  - [ ] Create navigation type definitions in shared/types/navigation.ts
  - [ ] Define screen parameter types for each navigation stack
  - [ ] Export typed navigation hooks for useNavigation and useRoute
- [ ] Create basic screen structure (AC: 3)
  - [ ] Create placeholder auth screens (SignIn, SignUp) in app/src/screens/auth/
  - [ ] Create placeholder onboarding screens in app/src/screens/onboarding/
  - [ ] Create placeholder main app screens in app/src/screens/main/
  - [ ] Implement basic screen components with proper navigation props
- [ ] Setup navigation configuration (AC: 1, 4)
  - [ ] Create RootNavigator in app/src/navigation/RootNavigator.tsx
  - [ ] Implement stack navigation structure as per routing architecture
  - [ ] Configure navigation options and screen parameters
  - [ ] Test navigation state accessibility across screens
- [ ] Write unit tests (Testing Standards Compliance)
  - [ ] Create navigation/__tests__/RootNavigator.test.tsx
  - [ ] Test navigation structure and screen rendering
  - [ ] Test TypeScript navigation type safety
  - [ ] Test navigation state management

## Dev Notes

### Previous Story Insights
From Story 1.2: Supabase client and environment configuration properly established. TypeScript types are defined in shared/types directory. Service layer pattern and error handling implemented successfully.

### Data Models
No specific data models needed for navigation setup. Navigation types will be defined in shared/types/navigation.ts [Source: architecture/coding-standards.md#critical-fullstack-rules]

### API Specifications
No API integrations required for basic navigation framework setup.

### Component Specifications
**Navigation Architecture from Frontend Architecture:**
- **Route Organization**: RootNavigator with AuthStack, OnboardingStack, and MainTabs structure [Source: architecture/frontend-architecture.md#routing-architecture]
- **Stack Navigation**: Use @react-navigation/native-stack for main navigation structure
- **Protected Routes**: ProtectedRoute pattern for authenticated access (to be implemented in later story)
- **Tab Navigation**: MainTabs with TodayStack, ProgressStack, JourneyStack, ProfileStack [Source: architecture/frontend-architecture.md#routing-architecture]

### File Locations
Based on unified project structure, create files at these exact paths:
- **Root Navigator**: `app/src/navigation/RootNavigator.tsx` [Source: architecture/unified-project-structure.md#unified-project-structure]
- **Navigation Types**: `shared/types/navigation.ts` for navigation type definitions [Source: architecture/unified-project-structure.md#unified-project-structure]
- **Auth Screens**: `app/src/screens/auth/SignInScreen.tsx`, `app/src/screens/auth/SignUpScreen.tsx` [Source: architecture/unified-project-structure.md#unified-project-structure]
- **Onboarding Screens**: `app/src/screens/onboarding/WelcomeScreen.tsx`, `app/src/screens/onboarding/GoalSetupScreen.tsx` [Source: architecture/unified-project-structure.md#unified-project-structure]
- **Main Screens**: `app/src/screens/main/TodayScreen.tsx`, `app/src/screens/main/ProgressScreen.tsx`, `app/src/screens/main/JourneyScreen.tsx`, `app/src/screens/main/ProfileScreen.tsx` [Source: architecture/unified-project-structure.md#unified-project-structure]
- **Tests**: `app/src/navigation/__tests__/RootNavigator.test.tsx` [Source: architecture/testing-strategy.md#test-organization]

### Testing Requirements
**Testing Standards from Architecture:**
- **Test Framework**: Jest + React Native Testing Library for frontend components [Source: architecture/tech-stack.md#tech-stack]
- **Test Standards**: 70% unit tests, 30% integration tests [Source: architecture/testing-strategy.md#testing-pyramid]
- **Test Organization**: Follow pattern `app/src/navigation/__tests__/` [Source: architecture/testing-strategy.md#test-organization]
- **Testing Requirements**: Navigation components must have unit tests covering screen rendering, navigation flow, and TypeScript type safety

### Technical Constraints
- **TypeScript Version**: 5.3+ required [Source: architecture/tech-stack.md#tech-stack]
- **React Navigation**: v6 with native stack navigator [Source: architecture/frontend-architecture.md#routing-architecture]
- **Type Sharing**: Always define types in shared/types and import from there [Source: architecture/coding-standards.md#critical-fullstack-rules]
- **Component Organization**: Follow established folder structure for screens [Source: architecture/unified-project-structure.md#unified-project-structure]

### Naming Conventions
- **Components**: PascalCase (e.g., `RootNavigator`, `SignInScreen`) [Source: architecture/coding-standards.md#naming-conventions]
- **Type Interfaces**: PascalCase (e.g., `AuthStackParamList`) [Source: architecture/coding-standards.md#naming-conventions]
- **Files**: PascalCase with descriptive names (e.g., `RootNavigator.tsx`, `SignInScreen.tsx`) [Source: architecture/coding-standards.md#naming-conventions]

### Critical Fullstack Rules
- **Type Sharing**: Always define types in shared/types and import from there [Source: architecture/coding-standards.md#critical-fullstack-rules]
- **State Updates**: Never mutate state directly - use proper state management patterns [Source: architecture/coding-standards.md#critical-fullstack-rules]
- **Async Operations**: Always handle loading and error states in UI [Source: architecture/coding-standards.md#critical-fullstack-rules]

### Project Structure Notes
No conflicts detected between epic requirements and defined project structure. All navigation locations align with unified project structure specification.

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2025-01-09 | 1.0 | Initial story creation | Bob (Scrum Master) |

## Dev Agent Record

### Agent Model Used
_To be populated by dev agent_

### Debug Log References
_To be populated by dev agent_

### Completion Notes List
_To be populated by dev agent_

### File List
_To be populated by dev agent_

## QA Results
_To be populated by QA agent_